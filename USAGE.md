# 📖 AI 面试助手 - 使用指南

## 🚀 快速上手

### 第一次使用

1. **安装依赖**
   ```bash
   install.bat
   ```

2. **配置 API Key**
   - 打开 `backend\.env` 文件
   - 将 `OPENAI_API_KEY` 替换为你的真实 API Key
   - 保存文件

3. **启动应用**
   ```bash
   start-all.bat
   ```

4. **测试功能**
   - 按 `Ctrl+H` 截图
   - 按 `Ctrl+Enter` 发送给 AI 分析

## ⌨️ 快捷键说明

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+H` | 截屏 | 捕获全屏截图，显示在悬浮窗 |
| `Ctrl+Enter` | 分析 | 将当前截图发送给 AI 分析 |
| `Ctrl+B` | 切换悬浮窗 | 显示/隐藏悬浮窗 |

## 🎯 使用场景

### 1. 算法题辅助

**操作流程：**
1. 打开在线编程平台（如 LeetCode）
2. 按 `Ctrl+H` 截取题目
3. 按 `Ctrl+Enter` 获取 AI 分析
4. 查看解题思路和代码示例

**AI 会提供：**
- 题目分析
- 解题思路
- 时间/空间复杂度
- 代码实现（多种语言）

### 2. 系统设计题

**操作流程：**
1. 截取系统设计题目
2. AI 分析会给出：
   - 需求分析
   - 架构设计
   - 技术选型
   - 扩展性考虑

### 3. 概念问题

**操作流程：**
1. 截取概念性问题
2. AI 提供：
   - 详细解释
   - 相关知识点
   - 实际应用场景

### 4. 代码审查

**操作流程：**
1. 截取需要审查的代码
2. AI 会指出：
   - 潜在问题
   - 优化建议
   - 最佳实践

## 🖥️ 界面说明

### 主窗口

- **快捷键区域**: 显示所有可用快捷键
- **状态指示器**: 显示当前操作状态
- **手动控制**: 提供按钮形式的操作
- **截图预览**: 显示最新的截图
- **AI 回复**: 显示完整的 AI 分析结果

### 悬浮窗

- **紧凑设计**: 不遮挡主要工作区域
- **永远置顶**: 始终显示在最前面
- **截图缩略图**: 快速确认截取内容
- **简短回复**: 显示 AI 回复摘要
- **可折叠**: 点击顶部按钮最小化

## 🔧 高级使用

### 自定义提示词

修改 `backend/vision.py` 中的默认提示词：

```python
prompt = """请详细分析这张图片的内容。

自定义你的分析要求...
"""
```

### 修改快捷键

编辑 `electron/main.js`：

```javascript
// 示例：改为 Ctrl+Shift+H
globalShortcut.register('CommandOrControl+Shift+H', async () => {
  await captureScreen();
});
```

### 更换 AI 模型

编辑 `backend\.env`：

```env
# 使用 GPT-4 Turbo
OPENAI_MODEL=gpt-4-turbo

# 使用 GPT-4 Vision Preview
OPENAI_MODEL=gpt-4-vision-preview
```

### 使用其他 AI 服务

任何兼容 OpenAI API 的服务都可以使用：

```env
# 示例：使用 Azure OpenAI
OPENAI_BASE_URL=https://your-resource.openai.azure.com/
OPENAI_API_KEY=your-azure-key
OPENAI_MODEL=gpt-4-vision
```

## 💡 最佳实践

### 1. 截图技巧

- **清晰完整**: 确保题目完整、清晰
- **避免无关内容**: 只截取必要的部分
- **合适的时机**: 在题目完全加载后截图

### 2. 提高响应速度

- **保持后端运行**: 不要频繁重启后端
- **网络稳定**: 确保良好的网络连接
- **合理使用**: 避免过于频繁的请求

### 3. 隐私保护

- **敏感信息**: 不要截取包含个人信息的内容
- **本地存储**: 截图不会被保存，仅在内存中
- **API 选择**: 可以使用自己部署的模型

## 🐛 故障排除

### 快捷键不响应

**原因：**
- 其他程序占用了相同快捷键
- 应用没有正确启动

**解决：**
1. 检查任务管理器，确保 Electron 进程在运行
2. 尝试重启应用
3. 更换快捷键组合

### 后端连接失败

**错误信息：**
```
❌ 后端连接失败
无法连接到后端服务
```

**解决：**
1. 检查后端是否在运行
2. 访问 http://127.0.0.1:8000/health
3. 查看后端终端的错误信息
4. 检查防火墙设置

### API 调用超时

**原因：**
- 网络问题
- API 服务繁忙
- 截图过大

**解决：**
1. 检查网络连接
2. 等待几秒后重试
3. 截取较小的区域

### 悬浮窗消失

**解决：**
1. 检查是否被最小化
2. 重启应用
3. 检查是否在屏幕边缘外

## 📊 性能优化

### 减少响应时间

1. **使用更快的模型**
   ```env
   OPENAI_MODEL=gpt-4o  # 更快，更便宜
   ```

2. **优化提示词**
   - 更简洁的提示词
   - 明确的分析要求

3. **网络优化**
   - 使用国内的 API 代理
   - 选择延迟低的 API 端点

### 降低 API 成本

1. **选择合适的模型**
   - gpt-4o: 最佳性价比
   - gpt-4-turbo: 平衡
   - gpt-4-vision: 质量最高但最贵

2. **优化调用频率**
   - 思考后再发送
   - 批量处理相似问题

## 🔐 安全建议

1. **保护 API Key**
   - 不要分享 `.env` 文件
   - 不要提交到版本控制
   - 定期更换 API Key

2. **数据隐私**
   - 不截取敏感信息
   - 了解 API 提供商的数据政策
   - 考虑使用自托管模型

3. **使用规范**
   - 遵守考试和面试规则
   - 仅用于学习和练习
   - 尊重知识产权

## 📞 获取帮助

- **查看日志**: 检查终端输出的错误信息
- **API 文档**: http://127.0.0.1:8000/docs
- **重新安装**: 删除 `node_modules` 和 `backend/venv`，重新运行 `install.bat`

## 🎓 学习资源

- [OpenAI Vision API 文档](https://platform.openai.com/docs/guides/vision)
- [Electron 官方文档](https://www.electronjs.org/docs)
- [FastAPI 教程](https://fastapi.tiangolo.com/tutorial/)
- [React 官方文档](https://react.dev/)

---

**💡 提示**: 将此应用作为学习辅助工具，而不是完全依赖它。理解 AI 给出的答案比直接使用更重要！

